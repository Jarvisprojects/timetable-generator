<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Versions â€” Demo</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="../css/demo.css" /></head><body class="bg-gray-50 min-h-screen"><div class="max-w-4xl mx-auto p-6"><h1 class="text-xl font-semibold mb-4">Versions</h1><section class="demo-card p-4"><table class="min-w-full"><thead><tr class="text-left text-sm text-gray-600"><th class="p-2">Version ID</th><th class="p-2">Created At</th><th class="p-2">Created By</th><th class="p-2">Actions</th></tr></thead><tbody id="versions-table"></tbody></table></section></div><script src="../js/state.js"></script><script src="../js/ui.js"></script><script>function renderVersions(){ const tbody=document.getElementById('versions-table'); tbody.innerHTML=''; const versions=DemoState.listVersions(); if(!versions.length){tbody.innerHTML='<tr><td colspan="4" class="p-4 text-sm text-gray-500">No versions found.</td></tr>';return;} versions.forEach(v=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td class="p-2 font-mono">${v.versionId}</td><td class="p-2">${new Date(v.createdAt).toLocaleString()}</td><td class="p-2">${v.createdBy||'HOD'}</td><td class="p-2"><button class="btn-view" data-id="${v.versionId}">View</button> <button class="btn-restore" data-id="${v.versionId}">Restore</button></td>`; tbody.appendChild(tr); }); Array.from(document.getElementsByClassName('btn-view')).forEach(b=>b.addEventListener('click',function(){ window.location.href='timetable/timetable-view.html'; })); Array.from(document.getElementsByClassName('btn-restore')).forEach(b=>b.addEventListener('click',function(){ const id=this.getAttribute('data-id'); if(confirm('Restore version '+id+'?')){ DemoState.setActiveVersion(id); DemoUI.showSnackbar('Restored '+id,'success'); renderVersions(); } })); } document.addEventListener('DOMContentLoaded',renderVersions);</script></body></html>