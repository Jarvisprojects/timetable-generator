<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Teacher View — Demo</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="../css/demo.css" /></head><body class="bg-gray-50 min-h-screen"><div class="max-w-4xl mx-auto p-6"><header class="flex items-center justify-between mb-4"><h1 class="text-xl font-semibold">Teacher View</h1></header><section class="demo-card p-4"><div class="mb-4"><label class="block text-sm">Select teacher</label><select id="teacher-select" class="mt-1 border rounded px-3 py-2"></select></div><div id="teacher-timetable-container"></div><div id="teacher-workload-summary" class="mt-4 text-sm text-gray-600"></div></section></div><script src="../js/state.js"></script><script src="../js/ui.js"></script><script src="../js/template-fill-demo.js"></script><script>function populateTeachers(){ const sel=document.getElementById('teacher-select'); sel.innerHTML=''; DemoState.listTeachers().forEach(t=>{ const opt=document.createElement('option'); opt.value=t.teacherId; opt.textContent=t.name+' ('+t.teacherId+')'; sel.appendChild(opt); }); } function renderForTeacher(tid){ const mapping=DemoTemplate.getCurrentMapping(); const container=document.getElementById('teacher-timetable-container'); container.innerHTML=''; const table=document.createElement('table'); table.className='min-w-full border-collapse'; let rows=''; // simple list view
 Object.keys(mapping||{}).forEach(cellId=>{ const a=mapping[cellId]; if(a.teacherId===tid){ const tr=document.createElement('div'); tr.className='p-2 border mb-1'; tr.textContent=cellId+' — '+a.courseId+' — '+a.roomId; container.appendChild(tr); } }); const t=DemoState.getTeacherById(tid); document.getElementById('teacher-workload-summary').textContent = t ? ('Preferred load: '+(t.preferredLoad||0)+' hrs/week') : ''; } document.addEventListener('DOMContentLoaded',function(){ populateTeachers(); const sel=document.getElementById('teacher-select'); if (sel.options.length) { sel.selectedIndex=0; renderForTeacher(sel.value); } sel.addEventListener('change',function(){ renderForTeacher(this.value); }); });</script></body></html>